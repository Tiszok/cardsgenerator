<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hues & Cues Mobile</title>
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: #000; 
            color: white; 
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            height: 100vh; /* 100% wysokości ekranu */
            padding: 15px;
            overflow: hidden;
        }

        /* Kontener na kartę - teraz dynamiczny */
        #deck {
            width: 100%;
            max-width: 400px;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card { 
            width: 100%; 
            height: 80vh; /* Karta zajmuje 80% wysokości widoku */
            background: #0a0a0a; 
            border: 1px solid #222; 
            border-radius: 30px; 
            padding: 25px; 
            display: flex;
            flex-direction: column;
            justify-content: space-around; /* Rozkłada elementy równomiernie */
            box-shadow: 0 15px 50px rgba(0,0,0,0.9);
            opacity: 0;
            animation: cardAppear 0.5s ease-out forwards;
        }

        @keyframes cardAppear {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        h2 { 
            font-size: 10px; 
            color: #333; 
            letter-spacing: 6px; 
            margin: 0;
            text-transform: uppercase;
            text-align: center;
        }

        .grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            grid-gap: 20px; 
        }

        .item {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0;
        }

        /* Animacje sekwencyjne dla 4 kolorów */
        .item:nth-child(1) { animation: pop 0.4s 0.3s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
        .item:nth-child(2) { animation: pop 0.4s 0.45s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
        .item:nth-child(3) { animation: pop 0.4s 0.6s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
        .item:nth-child(4) { animation: pop 0.4s 0.75s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }

        @keyframes pop {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .swatch { 
            width: 35vw; /* Wielkość uzależniona od szerokości ekranu */
            height: 35vw;
            max-width: 130px;
            max-height: 130px;
            border-radius: 20px; 
            margin-bottom: 10px; 
            border: 1px solid rgba(255,255,255,0.1);
        }

        .pos { 
            font-size: 32px; 
            font-weight: 900; 
            color: #fff;
        }

        #ui { 
            width: 100%;
            padding: 10px 0 20px 0;
            display: flex;
            justify-content: center;
        }

        button {
            width: 80%;
            max-width: 300px;
            padding: 20px;
            font-size: 14px;
            font-weight: bold;
            letter-spacing: 2px;
            cursor: pointer;
            background: #222;
            color: #fff;
            border: 1px solid #444;
            border-radius: 100px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transition: transform 0.1s;
        }

        button:active { transform: scale(0.95); background: #333; }
    </style>
</head>
<body>

    <div id="deck"></div>

    <div id="ui">
        <button onclick="generateRandomCard()">NOWA KARTA</button>
    </div>

    <script>
        // TUTAJ WKLEJ DANE ZE SWOJEGO PLIKU .CSV
        const rawCsvData = `Pozycja,C,M,Y,K,HEX
A1, ... (Twoje dane) ...`;

        function generateRandomCard() {
            const lines = rawCsvData.split('\n').slice(1).filter(l => l.trim().length > 0);
            const shuffled = lines.sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 4).map(line => {
                const parts = line.split(',');
                return { pos: parts[0], hex: parts[5].trim() };
            });

            const deckDiv = document.getElementById('deck');
            deckDiv.innerHTML = `
                <div class="card">
                    <h2>Hues & Cues</h2>
                    <div class="grid">
                        ${selected.map(it => `
                            <div class="item">
                                <div class="swatch" style="background-color: ${it.hex}"></div>
                                <div class="pos">${it.pos}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        window.onload = generateRandomCard;
    </script>
</body>
</html>
